<html>
<head>
  <title>JDR - Stats & D roller</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preload" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

  <link rel="preload" as="style" href="css/app.css">
  <link rel="stylesheet" href="css/app.css">
  <link rel="preload" as="fetch" href="game.json" crossorigin="anonymous">
  <style>
    .loader {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.9);
    }

    .spinner-border {
      display: inline-block;
      width: 2rem;
      height: 2rem;
      vertical-align: text-bottom;
      border: .25em solid currentColor;
      border-right-color: transparent;
      border-radius: 50%;
      -webkit-animation: spinner-border .75s linear infinite;
      animation: spinner-border .75s linear infinite;
    }

    .loader .spinner-border {
      color: #007bff !important;
    }

    @keyframes spinner-border {
      to {
        transform: rotate(360deg);
      }
    }
  </style>
</head>
<body>
<header class="jumbotron mt-0 mb-4 rounded-bottom">
  <h1 class="display-4"><small>JDR - Stats & dice roller</small></h1>
</header>
<div class="container-fluid">
  <nav class="nav nav-tabs" id="section-link">
    <a class="nav-item nav-link active" href="#player" data-toggle="tab">Joueur</a>
  </nav>
  <div class="tab-content" id="section-container">
    <div class="tab-pane active" id="player">
      <div class="row">
        <div class="mt-4 col-lg-12 col-xl-6">
          <div class="card h-100">
            <div class="card-header">
              Statistiques
            </div>
            <div class="card-body" id="stats">
            </div>
          </div>
        </div>
        <div class="mt-4 col-lg-6">
          <div class="card h-100">
            <div class="card-header">
              Chance (X + Y - 100 - <span title="D20"><i class="svg-load" data-name="dice-12"></i></span>)
            </div>
            <div class="card-body">
              <div class="row mb-1">
                <div class="col-sm-9">
                  <select class="form-control custom-select" id="select-stat-1">
                    <option value="" selected disabled>Choose here</option>
                  </select>
                </div>
                <div class="col-sm-3">
                  <input type="number" class="form-control" id="stat-1" placeholder="10, 20, ...">
                </div>
              </div>
              <div class="row">
                <div class="col-sm-9">
                  <select class="form-control custom-select" id="select-stat-2">
                    <option value="" selected disabled>Choose here</option>
                  </select>
                </div>
                <div class="col-sm-3">
                  <input type="number" class="form-control" id="stat-2" placeholder="10, 20, ...">
                </div>
              </div>
            </div>
            <div class="card-body">
              <button class="btn btn-outline-primary" id="calc">Get Lucky</button>
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">
                Chance : <span id="chance-formula">...</span>
              </li>
            </ul>
            <div class="card-footer">
              <div class="row">
                <div class="col-sm-3 col-form-label">
                  <span title="D100" id="chance-d100"><i class="svg-load" data-name="dice-20" data-size="2x"></i></span>
                </div>
                <div class="col-sm-9 col-form-label">
                  Resultat : <span id="result"></span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="mt-4 col-lg-6">
          <div class="card h-100">
            <div class="card-header">
              Dés
            </div>
            <div class="card-body">
              <div id="d-launcher" class="row">
                <div class="col">
                  <select class="form-control custom-select" id="d-numbers" name="d-numbers">
                    <option value="1" selected>1 D</option>
                    <option value="2">2 D</option>
                    <option value="3">3 D</option>
                    <option value="4">4 D</option>
                    <option value="5">5 D</option>
                    <option value="6">6 D</option>
                  </select>
                </div>
                <div class="col">
                  <select class="form-control custom-select" id="d-faces" name="d-faces">
                    <option value="2">2 Faces</option>
                    <option value="3">3 Faces</option>
                    <option value="4">4 Faces</option>
                    <option value="5">5 Faces</option>
                    <option value="6">6 Faces</option>
                    <option value="7">7 Faces</option>
                    <option value="8">8 Faces</option>
                    <option value="9">9 Faces</option>
                    <option value="10">10 Faces</option>
                    <option value="12">12 Faces</option>
                    <option value="20">20 Faces</option>
                    <option value="100" selected>100 Faces</option>
                  </select>
                </div>
                <div class="col">
                  <button class="btn btn-outline-primary" type="button">Lancer</button>
                </div>
              </div>
            </div>
            <div class="card-body">
              <div id="d-result" class="form-row text-center">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<footer class="jumbotron mt-4 mb-0 rounded-top">
  <p class="lead">Comment ça marche :<br>
    Entres tes statistiques, t'es prêt à jouer !
  </p>
  <p>
    Statistique sur les lancer de dès : <br>
    Un lancer sur X donne un nombre entre 1 et X. ex : un lancer sur 100 donne un nombre entre 1 et 100.<br>
    <br>
    Critiques: <br>
    Les crititques sont comprise entre 3 et 98 <br>
    - Réussite critique : <= 3 (1, 2, 3) <br>
    - Echec critique : >= 98 (98, 99, 100)
  </p>
</footer>
<div class="loader" id="loader">
  <div class="loading-dice"></div>
</div>
<script type="module" src="js/app.js"></script>
</body>
</html>
