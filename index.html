<html>
<head>
  <title>JDR - Stats & D roller</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preload" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

  <link rel="preload" as="style" href="css/app.css">
  <link rel="stylesheet" href="css/app.css">
  <link rel="preload" as="fetch" href="game.json" crossorigin="anonymous">
  <style>
    .layer {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .loader {
      background: rgba(0, 0, 0, 0.9);
    }

    .spinner-border {
      display: inline-block;
      width: 2rem;
      height: 2rem;
      vertical-align: text-bottom;
      border: .25em solid currentColor;
      border-right-color: transparent;
      border-radius: 50%;
      -webkit-animation: spinner-border .75s linear infinite;
      animation: spinner-border .75s linear infinite;
    }

    .loader .spinner-border {
      color: #007bff !important;
    }

    @keyframes spinner-border {
      to {
        transform: rotate(360deg);
      }
    }
  </style>
</head>
<body>
<header class="jumbotron mb-0 rounded-0">
  <h1 class="display-4"><small>JDR - Stats & dice roller</small></h1>
</header>
<div class="card border-left-0 border-right-0 rounded-0">
  <div class="card-header">
    <nav class="nav nav-tabs card-header-tabs" id="section-link">
      <a class="nav-item nav-link active" href="#player" data-toggle="tab">
        <i class="svg-load" data-name="hat-wizard" data-size="lg"></i> Joueur
      </a>
    </nav>
  </div>

  <div class="card-body">
    <div class="tab-content" id="section-container">
      <div class="tab-pane active" id="player">
        <div class="row">
          <div class="mb-4 col-lg-12 col-xl-6">
            <div class="card h-100">
              <div class="card-header">
                <i class="svg-load" data-name="tasks-alt" data-size="lg"></i> Statistiques
              </div>
              <div class="card-body" id="stats">
              </div>
            </div>
          </div>
          <div class="mb-4 col-sm-6 col-lg-3">
            <div class="card h-100">
              <div class="card-header">
                <i class="svg-load" data-name="heartbeat" data-size="lg"></i> Vie
              </div>
              <div class="card-body d-flex">
                <div class="row flex-fill">
                  <div class="col text-center flex-fill align-items-center d-flex">
                    <div class="w-100" id="life">
                      <span class="fa-stack fa-3x text-success">
                        <i class="svg-load" data-name="heart" data-size="stack-2x"></i>
                        <input class="form-control-plaintext fa-stack-1x text-light small font-weight-bolder"
                               style="font-size: 0.8em;padding-left: 1rem;margin-top: -0.5rem;text-shadow: 0 0 1px black;"
                               type="number" name="value">
                      </span>
                      <div class="btn-toolbar" role="toolbar">
                        <div class="btn-group mx-auto" role="group">
                          <button type="button" name="dec" class="btn btn-outline-danger border-0">
                            <i class="svg-load" data-name="minus" data-size="lg"></i>
                          </button>
                        </div>
                        <div class="btn-group mx-auto" role="group">
                          <button type="button" name="inc" class="btn btn-outline-success border-0">
                            <i class="svg-load" data-name="plus" data-size="lg"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="mb-4 col-sm-6 col-lg-3">
            <div class="card h-100">
              <div class="card-header">
                <i class="svg-load" data-name="star-shooting" data-size="lg"></i> Destiné
              </div>
              <div class="card-body d-flex">
                <div class="row flex-fill">
                  <div class="col text-center flex-fill align-items-center d-flex">
                    <div class="w-100" id="destiny">
                      <span class="fa-stack fa-3x text-info">
                        <i class="svg-load" data-name="comet" data-size="stack-2x"></i>
                        <input class="form-control-plaintext fa-stack-1x text-light small font-weight-bolder"
                               style="font-size: 0.8em;padding-left: 1rem;margin-top: -0.5rem;text-shadow: 0 0 1px black;"
                               type="number" name="value">
                      </span>
                      <div class="btn-toolbar" role="toolbar">
                        <div class="btn-group mx-auto" role="group">
                          <button type="button" name="dec" class="btn btn-outline-danger border-0">
                            <i class="svg-load" data-name="minus" data-size="lg"></i>
                          </button>
                        </div>
                        <div class="btn-group mx-auto" role="group">
                          <button type="button" name="inc" class="btn btn-outline-success border-0">
                            <i class="svg-load" data-name="plus" data-size="lg"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="mb-4 col-lg-6">
            <div class="card h-100 store" id="personals-notes">
              <div class="card-header">
                <i class="svg-load" data-name="scroll" data-size="lg"></i>
                Notes personnelles
              </div>
              <textarea class="card-body form-control form-control-sm border-0" name="personals-notes" placeholder="Notes ce que tu veux !">
              </textarea>
            </div>
          </div>
          <div class="mb-4 col-lg-6">
            <div class="card h-100">
              <div class="card-header">
                <i class="svg-load" data-name="sparkles" data-size="lg"></i>
                Chance <small class="text-dark">(X + Y - 100 - <span title="D20"><i class="svg-load"
                                                                                    data-name="dice-12"></i></span>)</small>
              </div>
              <div class="card-body">
                <div class="row mb-1">
                  <div class="col-sm-9">
                    <select class="form-control custom-select" id="select-stat-1">
                      <option value="" selected disabled>Choose here</option>
                    </select>
                  </div>
                  <div class="col-sm-3">
                    <input type="number" class="form-control" id="stat-1" placeholder="10, 20, ...">
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-9">
                    <select class="form-control custom-select" id="select-stat-2">
                      <option value="" selected disabled>Choose here</option>
                    </select>
                  </div>
                  <div class="col-sm-3">
                    <input type="number" class="form-control" id="stat-2" placeholder="10, 20, ...">
                  </div>
                </div>
              </div>
              <div class="card-body">
                <button class="btn btn-outline-primary" id="calc">
                  <i class="svg-load" data-name="wand-magic" data-size="lg"></i> Get Lucky
                </button>
              </div>
              <ul class="list-group list-group-flush">
                <li class="list-group-item">
                  Chance : <span id="chance-formula">...</span>
                </li>
              </ul>
              <div class="card-footer">
              <span class="btn" title="D100" id="chance-d100">
                <i class="svg-load" data-name="dice-20" data-size="2x"></i>
              </span>
                <span class="btn">Resultat : </span>
                <span id="chance-result"></span>
              </div>
            </div>
          </div>
          <div class="mb-4 col-lg-6">
            <div class="card h-100">
              <div class="card-header">
                Dés
              </div>
              <div class="card-body">
                <div id="d-launcher" class="row">
                  <div class="col">
                    <select class="form-control custom-select" id="d-numbers" name="d-numbers">
                      <option value="1" selected>1 D</option>
                      <option value="2">2 D</option>
                      <option value="3">3 D</option>
                      <option value="4">4 D</option>
                      <option value="5">5 D</option>
                      <option value="6">6 D</option>
                    </select>
                  </div>
                  <div class="col">
                    <select class="form-control custom-select" id="d-faces" name="d-faces">
                      <option value="2">2 Faces</option>
                      <option value="3">3 Faces</option>
                      <option value="4">4 Faces</option>
                      <option value="5">5 Faces</option>
                      <option value="6">6 Faces</option>
                      <option value="7">7 Faces</option>
                      <option value="8">8 Faces</option>
                      <option value="9">9 Faces</option>
                      <option value="10">10 Faces</option>
                      <option value="12">12 Faces</option>
                      <option value="20">20 Faces</option>
                      <option value="100" selected>100 Faces</option>
                    </select>
                  </div>
                  <div class="col">
                    <button class="btn btn-outline-primary" type="button">Lancer</button>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <div id="d-result" class="form-row text-center">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<footer class="jumbotron mb-0 rounded-0">
  <p class="lead">Comment ça marche :<br>
    Entres tes statistiques, t'es prêt à jouer !
  </p>
  <p>
    Statistique sur les lancer de dès : <br>
    Un lancer sur X donne un nombre entre 1 et X. ex : un lancer sur 100 donne un nombre entre 1 et 100.<br>
    <br>
    Critiques: <br>
    Les crititques sont comprise entre 3 et 98 <br>
    - Réussite critique : <= 3 (1, 2, 3) <br>
    - Echec critique : >= 98 (98, 99, 100)
  </p>
</footer>
<div class="layer loader" id="loader">
  <div class="loading-dice"></div>
</div>
<script type="module" src="js/app.js"></script>
</body>
</html>
